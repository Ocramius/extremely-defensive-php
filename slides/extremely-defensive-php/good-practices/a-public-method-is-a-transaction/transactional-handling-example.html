<pre><code data-trim>
private function addMoney(Money $money)
{
    $this->money[] = $money;
}

private function markTransactionPaidWithMoney(Bill $bill, Money $money)
{
    $this->bills[] = $bill->paid($money);
}

public function payBill(Bill $bill, Money $money)
{
    $bankAccount->addMoney($money);
    $bankAccount->markBillPaidWithMoney($bill, $money);
}
</code></pre>

<pre class="fragment"><code data-trim>
$bankAccount->payTransaction($transaction, $money);
</code></pre>

<p class="fragment">
    <span class="doctrine-color">Single public API</span>
    endpoint wrapping around
    <span class="php-color">state change</span>
</p>
